@{
    ViewData["Title"] = "Manage Bus Routes and Schedules";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    .bus-management-page .custom-table th {
        background-color: #007bff;
        color: white;
        text-align: center;
    }

    .bus-management-page .custom-table td, .bus-management-page .custom-table th {
        vertical-align: middle;
    }

    .bus-management-page .btn-custom {
        border-radius: 50px;
    }

    .bus-management-page .badge-custom {
        font-size: 0.875em;
        padding: 0.4em 0.75em;
    }
</style>

<div class="container my-5 bus-management-page">
    <h1 class="text-center fw-bold text-primary mb-4">Manage Bus Routes and Schedules</h1>

    <div class="mb-5">
        <div class="text-end mb-3">
            <button id="openAddScheduleButton" class="btn btn-primary btn-custom">Add New Schedule</button>
        </div>
        <h2 class="fw-bold text-secondary mb-3">Bus Routes</h2>
        <div class="table-responsive">
            <table class="table custom-table table-bordered table-hover shadow-sm">
                <thead>
                    <tr>
                        <th>Route ID</th>
                        <th>From Location</th>
                        <th>To Location</th>
                        <th>Estimated Duration</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="getRoutes">
                </tbody>
            </table>
        </div>
    </div>

    <div>
        <div class="text-end mb-3">
            <button class="btn btn-primary btn-custom" onclick="openAddScheduleModal()">Add New Schedule</button>
        </div>
        <h2 class="fw-bold text-secondary mb-3">Bus Schedules</h2>
        <div class="table-responsive">
            <table class="table custom-table table-bordered table-hover shadow-sm">
                <thead>
                    <tr>
                        <th>Schedule ID</th>
                        <th>Route</th>
                        <th>Bus ID</th>
                        <th>Departure Time</th>
                        <th>Arrival Time</th>
                        <th>Price (€)</th>
                        <th>Status</th>
                        <th>Available Seats</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="text-center">1</td>
                        <td>New York to Washington</td>
                        <td class="text-center">Bus A</td>
                        <td class="text-center">08:00 AM</td>
                        <td class="text-center">10:00 AM</td>
                        <td class="text-center">15.00</td>
                        <td class="text-center">
                            <span class="badge bg-success badge-custom">Scheduled</span>
                        </td>
                        <td class="text-center">30</td>
                        <td class="text-center">
                            <button class="btn btn-info btn-sm btn-custom" onclick="openEditScheduleModal(1)">Edit</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

@Html.Partial("AddEditRoute")
@Html.Partial("DeleteRoute")

@Html.Partial("AddEditSchedule")

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/busRouteService.js"></script>
<script src="~/js/busScheduleService.js"></script>