@{
    ViewData["Title"] = "View Passengers by Route";
}

<div class="container my-5">
    <h1 class="text-center mb-4 fw-bold text-primary">View Passengers by Route</h1>

    <div class="row justify-content-center mb-4">
        <div class="col-md-6">
            <label for="busRouteSelection" class="form-label fw-bold">Select a Bus Route</label>
            <select id="busRouteSelection" class="form-select" onchange="fetchPassengersByRoute()">
                <option value="">Select Bus Route...</option>
                <option value="NY123">New York to Washington - Bus NY123</option>
                <option value="DT456">Central Station to Downtown - Bus DT456</option>
                <option value="UP789">Uptown to Central Park - Bus UP789</option>
            </select>
        </div>
    </div>

    <div id="passengerListContainer" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 mt-4">

    </div>
</div>

<script>
    function fetchPassengersByRoute() {
        const selectedBus = document.getElementById('busRouteSelection').value;
        const passengerListContainer = document.getElementById('passengerListContainer');

        passengerListContainer.innerHTML = '';  // Clear any existing passengers

        if (!selectedBus) {
            passengerListContainer.innerHTML = '<p class="text-center text-muted">Please select a bus route to view confirmed passengers.</p>';
            return;
        }

        const passengersData = {
            'NY123': [
                { name: 'John Doe', seats: 3, time: '08:00 AM', date: '2024-11-15' },
                { name: 'Sarah Connor', seats: 1, time: '08:00 AM', date: '2024-11-15' }
            ],
            'DT456': [
                { name: 'Jane Smith', seats: 2, time: '09:30 AM', date: '2024-11-16' }
            ],
            'UP789': [
                { name: 'Michael Johnson', seats: 1, time: '11:00 AM', date: '2024-11-17' }
            ]
        };

        const selectedPassengers = passengersData[selectedBus] || [];

        if (selectedPassengers.length === 0) {
            passengerListContainer.innerHTML = '<p class="text-center text-muted">No confirmed passengers for this route.</p>';
            return;
        }

        selectedPassengers.forEach(passenger => {
            const passengerCard = `
                <div class="col">
                    <div class="card shadow-sm h-100">
                        <div class="card-body text-center">
                            <h6 class="card-title fw-bold">${passenger.name}</h6>
                            <p class="text-muted small mb-1">Seats: ${passenger.seats}</p>
                            <p class="small">Date: ${passenger.date} | Time: ${passenger.time}</p>
                        </div>
                    </div>
                </div>`;
            passengerListContainer.insertAdjacentHTML('beforeend', passengerCard);
        });
    }
</script>

<style>
    .card {
        border-radius: 8px;
        transition: transform 0.2s ease-in-out;
    }

        .card:hover {
            transform: scale(1.03);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }
</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
